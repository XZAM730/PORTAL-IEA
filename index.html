<!DOCTYPE html>
<html lang="id" data-theme="dark">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
    <meta name="theme-color" content="#0a0a0f"> 
    <title>IEA PORTAL</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Orbitron:wght@500;700;900&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
      :root{
        /* --- TEMA GELAP (DEFAULT) --- */
        --bg: #0a0a0f; 
        --accent: #a855f7;       
        --accent-sec: #f97316;   
        --accent-glow: rgba(168, 85, 247, 0.4); 
        
        --glass: rgba(20, 20, 30, 0.6); 
        --glass-border: rgba(255, 255, 255, 0.05);
        --dock-bg: rgba(15, 15, 20, 0.85);
        
        --text-pri: #e0e0e0; 
        --text-sec: #a0a0a0;
        
        --bg-img-1: radial-gradient(var(--accent-glow), transparent 2px);
        --bg-img-2: radial-gradient(rgba(249, 115, 22, 0.3), transparent 2px);
      }

      /* --- TEMA TERANG (LIGHT MODE) --- */
      [data-theme="light"] {
        --bg: #f0f2f5;
        --accent: #7c3aed;       /* Ungu yang lebih enak di mata pas terang */
        --accent-sec: #ea580c;
        --accent-glow: rgba(124, 58, 237, 0.2);

        --glass: rgba(255, 255, 255, 0.8);
        --glass-border: rgba(0, 0, 0, 0.1);
        --dock-bg: rgba(255, 255, 255, 0.9);

        --text-pri: #1a1a1a;
        --text-sec: #555555;
        
        --bg-img-1: radial-gradient(rgba(124, 58, 237, 0.1), transparent 2px);
        --bg-img-2: radial-gradient(rgba(234, 88, 12, 0.1), transparent 2px);
      }

      /* --- DASAR --- */
      *{box-sizing:border-box;margin:0;padding:0;-webkit-tap-highlight-color:transparent; user-select: none; outline: none;}
      
      body{
        background-color: var(--bg);
        font-family: 'Inter', sans-serif;
        color: var(--text-pri); 
        overflow-x: hidden;
        min-height: 100vh;
        position: relative;
        background-image: var(--bg-img-1), var(--bg-img-2);
        background-size: 400px 400px, 250px 250px;
        background-position: 0 0, 40px 60px;
        transition: background 0.5s ease, color 0.5s ease;
      }

      /* --- EFEK TEKSTUR HALUS --- */
      .texture-layer {
          position: fixed; top: 0; left: 0; width: 100%; height: 100%;
          z-index: -10; opacity: 0.15; 
          background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='f'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23f)' opacity='0.4'/%3E%3C/svg%3E");
          mix-blend-mode: overlay; pointer-events: none;
      }

      /* --- CAHAYA LATAR --- */
      body::before, body::after {
        content: ''; position: fixed; width: 70vw; height: 70vw; border-radius: 50%;
        filter: blur(100px); opacity: 0.15; z-index: -2; 
        animation: orbit 40s infinite alternate ease-in-out; 
      }
      body::before { background: radial-gradient(circle, var(--accent), transparent 70%); top: -10%; left: -10%; }
      body::after { background: radial-gradient(circle, var(--accent-sec), transparent 70%); bottom: -10%; right: -10%; animation-delay: -10s; }
      
      @keyframes orbit { 0% { transform: translate(0, 0) scale(1); } 100% { transform: translate(20px, 30px) scale(1.05); } }

      /* --- ANIMASI LOGO --- */
      .logo-svg { overflow: visible; filter: drop-shadow(0 0 10px var(--accent)); }
      .ring { fill: none; stroke-width: 3; vector-effect: non-scaling-stroke; }
      .ring-1 { stroke: var(--accent); transform-origin: center; animation: ringSpin 15s linear infinite; opacity: 0.8; }
      .ring-2 { stroke: var(--accent-sec); transform-origin: center; animation: ringSpinRev 12s linear infinite; opacity: 0.8; }
      
      @keyframes ringSpin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
      @keyframes ringSpinRev { 0% { transform: rotate(0deg); } 100% { transform: rotate(-360deg); } }

      /* --- LOGO POJOK --- */
      .corner-brand {
        position: fixed; top: 20px; left: 20px; z-index: 8000;
        display: flex; align-items: center; gap: 12px; opacity: 0;
        transition: opacity 2s;
      }
      .corner-logo { width: 35px; height: 35px; }
      .corner-text { 
        font-family: 'Orbitron'; font-weight: 700; font-size: 0.9rem; letter-spacing: 1px;
        color: var(--text-pri); display: none; 
      }
      @media(min-width: 768px){ .corner-text { display: block; } }

      /* --- TOMBOL PENGATURAN (KANAN ATAS) --- */
      .settings-btn {
          position: fixed; top: 20px; right: 20px; z-index: 8000;
          width: 45px; height: 45px; border-radius: 12px;
          background: var(--glass); border: 1px solid var(--glass-border);
          color: var(--text-pri); display: flex; align-items: center; justify-content: center;
          cursor: pointer; transition: 0.3s; backdrop-filter: blur(10px);
          box-shadow: 0 5px 15px rgba(0,0,0,0.1);
      }
      .settings-btn:hover { border-color: var(--accent); color: var(--accent); transform: rotate(90deg); }

      /* --- TATA LETAK --- */
      .wrap{
        max-width: 900px; margin: 0 auto; 
        padding: 50px 20px 140px 20px; 
        position: relative; z-index: 2;
        opacity: 0; transform: scale(0.98); 
        transition: opacity 1.5s ease, transform 1.5s ease;
      }

      /* --- HEADER --- */
      header{ text-align: center; margin-bottom: 40px; margin-top: 20px; }
      .status-pill {
        display: inline-flex; align-items: center; gap: 8px;
        padding: 5px 15px; border: 1px solid var(--glass-border);
        color: var(--text-sec); font-family: 'Inter', sans-serif; font-size: 0.75rem;
        border-radius: 50px; background: rgba(255,255,255,0.03);
        backdrop-filter: blur(5px);
      }
      .status-dot { width: 6px; height: 6px; background: #4ade80; border-radius: 50%; box-shadow: 0 0 5px #4ade80; }

      header h1{
        font-family: 'Orbitron'; 
        font-size: clamp(2rem, 6vw, 3.5rem);
        color: var(--text-pri);
        letter-spacing: 2px; 
        margin-top: 15px;
        line-height: 1.2; font-weight: 800;
        text-shadow: 0 0 20px var(--accent-glow);
      }
      header p { color: var(--text-sec); margin-top: 8px; font-size: 0.9rem; }

      /* --- GRID KARTU (CARD) --- */
      .grid{ display: grid; grid-template-columns: 1fr; gap: 15px; }
      @media(min-width: 768px){ .grid{ grid-template-columns: repeat(2, 1fr); gap: 20px; } }

      .card{
        background: var(--glass);
        border: 1px solid var(--glass-border);
        border-radius: 16px; padding: 22px;
        position: relative; overflow: hidden;
        backdrop-filter: blur(15px); 
        box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        transition: all 0.5s ease; 
        cursor: pointer;
      }
      .card:hover{
        transform: translateY(-3px);
        border-color: var(--accent-glow);
        background: var(--dock-bg);
      }
      .card:active { transform: scale(0.98); }
      
      .card-tag{
        font-family: 'Inter', sans-serif; font-size: 0.65rem; color: var(--accent-sec);
        display: inline-block; margin-bottom: 10px; font-weight: 600;
        padding: 3px 8px; border-radius: 4px; background: rgba(249, 115, 22, 0.1);
      }
      .card h2{
        font-family: 'Orbitron'; font-size: 1.1rem; margin-bottom: 6px; color: var(--text-pri);
        display: flex; align-items: center; justify-content: space-between;
      }
      .card p{ font-size: 0.85rem; color: var(--text-sec); line-height: 1.5; font-weight: 300; }
      
      .card-icon { width: 22px; height: 22px; fill: var(--text-sec); transition: 0.6s ease; position: absolute; top: 22px; right: 22px; }
      .card:hover .card-icon { fill: var(--accent); transform: rotate(10deg); }

      .sys-footer { text-align: center; margin-top: 30px; font-family: 'Inter', sans-serif; font-size: 0.7rem; color: var(--text-sec); opacity: 0.5; }

      /* --- POPUP / MODAL --- */
      .modal {
        position: fixed; inset: 0; background: rgba(0,0,0,0.8);
        z-index: 10000; display: none; justify-content: center; align-items: center; 
        padding: 20px; backdrop-filter: blur(10px);
        transition: opacity 0.5s;
      }
      .modal-box {
        width: 100%; max-width: 450px; 
        background: var(--bg);
        border: 1px solid var(--glass-border); border-radius: 16px;
        padding: 30px; text-align: center; 
        box-shadow: 0 20px 50px rgba(0,0,0,0.5);
        animation: modalIn 0.5s cubic-bezier(0.2, 0.8, 0.2, 1);
        color: var(--text-pri);
      }
      @keyframes modalIn { from{transform:scale(0.95);opacity:0} to{transform:scale(1);opacity:1} }
      
      .btn-action {
        width: 100%; padding: 12px; background: var(--accent); color: #fff;
        font-weight: 600; border: none; border-radius: 8px; margin-top: 20px;
        cursor: pointer; font-family: 'Inter', sans-serif; transition: 0.4s;
        box-shadow: 0 5px 15px rgba(168, 85, 247, 0.2);
      }
      .btn-action:hover { transform: scale(1.01); background: #fff; color: var(--accent); }
      .btn-close { margin-top: 15px; color: var(--text-sec); font-size: 0.8rem; cursor: pointer; transition: 0.3s; font-family: 'Inter', sans-serif; }
      .btn-close:hover { color: var(--text-pri); }

      /* --- LAYAR 1: PENJELASAN (DULU PROTOCOL) --- */
      #protocol-screen {
          position: fixed; inset: 0; background: #08080c; z-index: 30000;
          display: flex; flex-direction: column; justify-content: center; align-items: center;
          padding: 20px; transition: opacity 1s ease;
      }
      .protocol-box {
          width: 100%; max-width: 550px;
          border: 1px solid var(--glass-border);
          background: rgba(15, 15, 20, 0.95);
          backdrop-filter: blur(15px);
          padding: 25px; border-radius: 12px;
          box-shadow: 0 20px 60px rgba(0,0,0,0.6);
          border-left: 3px solid var(--accent);
      }
      .protocol-header {
          font-family: 'Orbitron'; font-size: 1.1rem; color: #fff;
          margin-bottom: 20px; border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 15px;
          display: flex; justify-content: space-between; align-items: center;
      }
      .protocol-content {
          font-family: 'Inter', sans-serif; font-size: 0.9rem; color: #ccc; line-height: 1.6;
          max-height: 350px; overflow-y: auto; margin-bottom: 20px; padding-right: 10px;
      }
      .protocol-content h4 { color: #fff; margin-top: 15px; margin-bottom: 5px; font-family: 'Orbitron'; font-size: 0.95rem; }
      .protocol-content ul { padding-left: 20px; margin-bottom: 10px; }
      .protocol-content li { margin-bottom: 5px; color: var(--text-sec); }

      /* Tombol Setuju */
      .protocol-confirm { display: flex; align-items: center; gap: 15px; margin-top: 20px; border-top: 1px solid rgba(255,255,255,0.05); padding-top: 20px; }
      .custom-checkbox {
          width: 20px; height: 20px; border: 2px solid var(--accent-sec);
          display: flex; justify-content: center; align-items: center; cursor: pointer;
          transition: 0.3s; border-radius: 4px;
      }
      .custom-checkbox.checked { background: var(--accent-sec); }
      .custom-checkbox i { color: #fff; font-size: 12px; display: none; }
      .custom-checkbox.checked i { display: block; }

      #btn-init {
          flex: 1; padding: 12px; background: #222; color: #666;
          border: none; border-radius: 8px; font-family: 'Orbitron'; letter-spacing: 1px;
          cursor: not-allowed; transition: 0.5s; font-weight: bold;
      }
      #btn-init.active {
          background: var(--accent); color: #fff; 
          cursor: pointer; box-shadow: 0 5px 20px rgba(168, 85, 247, 0.2);
      }

      /* --- LAYAR 2: LOADING --- */
      #loader-overlay {
        position: fixed; inset: 0; background: var(--bg);
        z-index: 20000; display: none;
        flex-direction: column; align-items: center; justify-content: center;
        transition: opacity 1s ease; pointer-events: none;
      }
      .loader-text { 
        font-family: 'Orbitron'; color: var(--accent-sec); margin-top: 25px; letter-spacing: 3px; font-weight: bold; font-size: 0.8rem;
        animation: textPulse 1.5s infinite alternate; 
      }
      .loader-logo-wrap { width: 120px; height: 120px; opacity: 0; animation: fadeLogoIn 1.5s forwards; }
      @keyframes fadeLogoIn { to {opacity: 1;} }
      @keyframes textPulse { from{opacity:0.4} to{opacity:1} }

      .iea-glow { color: var(--accent); font-weight: bold; font-family: 'Orbitron'; }

      /* --- SEARCH BAR --- */
      .search-container {
          position: relative; max-width: 400px; margin: 25px auto 0;
          opacity: 0.9; transition: 0.4s;
      }
      .search-container:focus-within { transform: scale(1.01); }

      #portalSearch {
          width: 100%; padding: 12px 20px 12px 45px;
          background: rgba(255, 255, 255, 0.03);
          border: 1px solid var(--glass-border);
          border-radius: 12px; color: var(--text-pri);
          font-family: 'Inter', sans-serif; font-size: 0.9rem;
          outline: none; transition: 0.3s;
      }
      #portalSearch::placeholder { color: var(--text-sec); opacity: 0.7; }
      #portalSearch:focus { border-color: var(--accent); background: rgba(255,255,255,0.05); }

      .search-icon {
          position: absolute; left: 15px; top: 50%; transform: translateY(-50%);
          width: 18px; height: 18px; fill: var(--text-sec);
      }

      /* --- TEKS JALAN (MARQUEE) --- */
      .announcement-bar {
          width: 100%; background: rgba(168, 85, 247, 0.05);
          border-top: 1px solid rgba(168, 85, 247, 0.2);
          border-bottom: 1px solid rgba(168, 85, 247, 0.2);
          padding: 8px 0; overflow: hidden; position: relative; z-index: 100;
      }
      .marquee-text {
          display: inline-block; white-space: nowrap;
          font-family: 'Inter', sans-serif; font-size: 0.8rem;
          color: var(--text-sec); letter-spacing: 1px;
          animation: marquee 35s linear infinite;
      }
      @keyframes marquee { 0% { transform: translateX(100%); } 100% { transform: translateX(-100%); } }

      .status-indicator {
          display: flex; justify-content: center; gap: 15px; margin-bottom: 25px;
          font-size: 0.7rem; font-family: 'Inter', sans-serif; color: var(--text-sec);
      }

      /* --- NAVIGASI MELAYANG (FAB) --- */
      .fab-container {
        position: fixed;
        bottom: 40px; 
        right: 25px;
        z-index: 9999;
        display: flex;
        flex-direction: column-reverse;
        align-items: center;
        gap: 15px;
      }

      .fab-main {
        width: 60px;
        height: 60px;
        background: var(--accent);
        border-radius: 50%;
        display: flex;
        justify-content: center;
        align-items: center;
        box-shadow: 0 5px 20px var(--accent-glow);
        cursor: pointer;
        transition: 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        border: none;
      }

      .fab-main svg {
        width: 30px;
        height: 30px;
        fill: white;
        transition: 0.5s;
      }

      .fab-menu {
        display: flex;
        flex-direction: column;
        gap: 10px;
        opacity: 0;
        transform: translateY(20px);
        pointer-events: none;
        transition: 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      }

      .fab-container.active .fab-menu {
        opacity: 1;
        transform: translateY(0);
        pointer-events: auto;
      }

      .fab-container.active .fab-main {
        transform: rotate(45deg);
        background: var(--accent-sec);
      }

      .fab-item {
        width: 45px;
        height: 45px;
        background: var(--dock-bg);
        border: 1px solid var(--glass-border);
        backdrop-filter: blur(10px);
        border-radius: 50%;
        display: flex;
        justify-content: center;
        align-items: center;
        cursor: pointer;
        transition: 0.3s;
        position: relative;
        box-shadow: 0 5px 15px rgba(0,0,0,0.2);
      }

      .fab-item:hover {
        background: var(--accent);
        border-color: var(--accent);
      }

      .fab-item:hover svg {
        fill: #fff;
      }

      .fab-item svg {
        width: 20px;
        height: 20px;
        fill: var(--text-pri);
      }

      /* Label Tooltip */
      .fab-item::after {
        content: attr(data-label);
        position: absolute;
        right: 60px;
        background: rgba(0,0,0,0.8);
        color: white;
        padding: 5px 10px;
        border-radius: 5px;
        font-size: 0.7rem;
        white-space: nowrap;
        opacity: 0;
        transition: 0.3s;
        pointer-events: none;
      }

      .fab-item:hover::after {
        opacity: 1;
      }

      /* --- PROGRESS BAR DI ATAS --- */
      .progress-container {
        position: fixed;
        top: 0;
        z-index: 35000; 
        width: 100%;
        height: 3px; 
        background: transparent;
      }

      .progress-bar {
        height: 3px;
        background: linear-gradient(to right, var(--accent), var(--accent-sec));
        width: 0%; 
        box-shadow: 0 0 10px var(--accent);
      }

      /* --- TOMBOL BALIK KE ATAS (BACK TO TOP) --- */
      #backToTop {
        position: fixed;
        bottom: 40px;
        left: 20px;
        width: 45px;
        height: 45px;
        background: var(--glass);
        border: 1px solid var(--glass-border);
        backdrop-filter: blur(10px);
        border-radius: 12px;
        display: flex;
        justify-content: center;
        align-items: center;
        cursor: pointer;
        opacity: 0; 
        transform: translateY(20px);
        transition: 0.5s ease;
        z-index: 9998;
      }

      #backToTop.show {
        opacity: 1;
        transform: translateY(0);
      }

      #backToTop svg {
        width: 24px;
        height: 24px;
        fill: var(--accent);
      }

      /* --- SETTINGS MODAL --- */
      .setting-row {
          display: flex; justify-content: space-between; align-items: center;
          margin-bottom: 15px; color: var(--text-pri);
      }
      .switch { position: relative; display: inline-block; width: 50px; height: 24px; }
      .switch input { opacity: 0; width: 0; height: 0; }
      .slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #333; transition: .4s; border-radius: 34px; }
      .slider:before { position: absolute; content: ""; height: 16px; width: 16px; left: 4px; bottom: 4px; background-color: white; transition: .4s; border-radius: 50%; }
      input:checked + .slider { background-color: var(--accent); }
      input:checked + .slider:before { transform: translateX(26px); }
          
    </style>
</head>
<body>
    
  <div class="progress-container">
    <div class="progress-bar" id="myBar"></div>
  </div>

  <div id="backToTop" onclick="scrollToTop()">
    <svg viewBox="0 0 24 24"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"/></svg>
  </div>

  <div class="texture-layer"></div>

  <div id="protocol-screen">
      <div class="protocol-box">
          <div class="protocol-header">
              <span>SELAMAT DATANG</span>
              <span style="font-size: 0.7rem; opacity: 0.6;">VERSI 2.0</span>
          </div>
          
          <div class="protocol-content">
              <p style="color:var(--accent); margin-bottom:15px; font-weight:600;">Halo, Calon Peneliti!</p>
              <p>Sebelum masuk, baca dulu panduan singkat ini ya biar nggak bingung.</p>
              
              <h4>01. CARA PAKAI</h4>
              <ul>
                  <li>Setiap kotak menu bisa diklik untuk menuju halaman lain.</li>
                  <li>Ada tombol navigasi di bagian bawah layar buat reset atau baca aturan lagi.</li>
              </ul>

              <h4>02. DAFTAR MENU</h4>
              <ul>
                  <li><b style="color:var(--accent-sec)">Komunitas 1</b>: Tempat daftar buat anggota baru.</li>
                  <li><b style="color:var(--accent-sec)">Komunitas 2</b>: Buat yang mau kolaborasi bareng.</li>
                  <li><b style="color:var(--accent-sec)">Pusat Data</b>: Liat lokasi satelit & data NASA.</li>
                  <li><b style="color:var(--accent-sec)">Jurnal IEA</b>: Tempat baca tulisan ilmiah teman-teman.</li>
                  <li><b style="color:var(--accent-sec)">Perpustakaan</b>: Gudang buku digital dan musik.</li>
                  <li><b style="color:var(--accent-sec)">Asisten AI</b>: Tanya jawab otomatis tentang sains.</li>
                  <li><b style="color:var(--accent-sec)">Discord</b>: Tempat ngobrol santai & diskusi.</li>
              </ul>

              <h4>03. ETIKA</h4>
              <p>Di sini kita saling menghargai. Gunakan bahasa yang sopan dan data yang benar ya.</p>
          </div>

          <div class="protocol-confirm">
              <div class="custom-checkbox" id="proto-check" onclick="toggleCheck()">
                  <i>✓</i>
              </div>
              <span style="font-size:0.8rem; color:#aaa; cursor:pointer;" onclick="toggleCheck()">OKE, AKU PAHAM</span>
          </div>
          
          <button id="btn-init" onclick="initializeSystem()">TUNGGU PERSETUJUAN</button>
      </div>
  </div>

  <div id="loader-overlay">
    <div class="loader-logo-wrap">
        <svg class="logo-svg" viewBox="0 0 200 200" style="width:100%; height:100%;">
            <ellipse class="ring ring-1" cx="100" cy="100" rx="90" ry="30" />
            <ellipse class="ring ring-2" cx="100" cy="100" rx="90" ry="30" />
            <text x="50%" y="55%" text-anchor="middle" dominant-baseline="middle" fill="#fff" font-family="Orbitron" font-weight="900" font-size="50">IEA</text>
        </svg>
    </div>
    <div class="loader-text" id="loaderMsg">MEMPERSIAPKAN HALAMAN...</div>
  </div>

  <div class="announcement-bar">
    <div class="marquee-text">
        Halo! Selamat datang di Portal IEA • Pendaftaran Komunitas 2 lagi dibuka nih • Yuk cek Pusat Data terbaru kami • Jangan lupa istirahat kalau capek belajar!
    </div>
  </div>

  <div class="corner-brand" id="brand-corner">
    <svg class="corner-logo logo-svg" viewBox="0 0 200 200">
        <ellipse class="ring ring-1" cx="100" cy="100" rx="90" ry="30" />
        <ellipse class="ring ring-2" cx="100" cy="100" rx="90" ry="30" />
        <text x="50%" y="55%" text-anchor="middle" dominant-baseline="middle" fill="#fff" font-family="Orbitron" font-weight="900" font-size="50">IEA</text>
    </svg>
    <span class="corner-text">SYSTEM IEA</span>
  </div>

  <button class="settings-btn" onclick="openSettings()">
      <svg viewBox="0 0 24 24" style="width:24px;height:24px;fill:currentColor;"><path d="M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58a.49.49 0 0 0 .12-.61l-1.92-3.32a.488.488 0 0 0-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484 0 0 0-.48-.41h-3.84a.484.484 0 0 0-.48.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96a.488.488 0 0 0-.59.22L2.09 8.83a.488.488 0 0 0 .12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58a.488.488 0 0 0-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.27.41.48.41h3.84c.24 0 .44-.17.48-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"/></svg>
  </button>

  <div class="wrap" id="main-wrap">
    <header>
      <div class="status-pill"><div class="status-dot"></div>Semua Sistem Oke</div>
      <h1>PORTAL <span class="iea-glow">IEA</span></h1>
      <p>Internasional Education Astronomy</p>
      
      <div class="search-container">
        <input type="text" id="portalSearch" placeholder="Mau cari menu apa?" onkeyup="filterCards()">
        <svg class="search-icon" viewBox="0 0 24 24"><path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg>
      </div>
    </header>

    <div class="status-indicator">
        <span>DATABASE: ONLINE</span>
        <span>KONEKSI: STABIL</span>
        <span>PENELITI AKTIF: BANYAK</span>
    </div>

    <div class="grid">
      
      <div class="card" onclick="goto('https://whatsapp.com/channel/0029Vb7X7CIHFxPAYUFhN01q')">
        <svg class="card-icon" viewBox="0 0 24 24"><path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z"/></svg>
        <span class="card-tag">INFO TERBARU</span>
        <h2>Saluran WhatsApp</h2>
        <p>Gabung ke saluran resmi kami biar nggak ketinggalan info seru seputar kegiatan kita.</p>
      </div>

      <div class="card" onclick="goto('https://xzam730.github.io/PENDAFTARAN-KOMUNITAS-1/')">
        <svg class="card-icon" viewBox="0 0 24 24"><path d="M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm-9-2V7H4v3H1v2h3v3h2v-3h3v-2H6zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>
        <span class="card-tag">PENDAFTARAN</span>
        <h2>Gabung Komunitas 1</h2>
        <p>Kamu baru mau mulai? Yuk daftar di sini. Ini pintu masuk utama buat anggota baru.</p>
      </div>

      <div class="card" onclick="goto('https://xzam730.github.io/PENDAFTARAN-KOMUNITAS-1/komunitas2.html')">
        <svg class="card-icon" viewBox="0 0 24 24"><path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"/></svg>
        <span class="card-tag">EKSPANSI</span>
        <h2>Gabung Komunitas 2</h2>
        <p>Pendaftaran tambahan buat kamu yang mau kolaborasi lebih jauh lagi.</p>
      </div>

      <div class="card" onclick="goto('https://xzam730.github.io/PORTAL-IEA/live.html')">
        <svg class="card-icon" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-5.5-2.5 7.51-3.49L17.5 6.5 9.99 9.99 6.5 17.5zm5.5-6.6c.61 0 1.1.49 1.1 1.1s-.49 1.1-1.1 1.1-1.1-.49-1.1-1.1.49-1.1 1.1-1.1z"/></svg>
        <span class="card-tag">MONITORING</span>
        <h2>Pusat Data (Monolith)</h2>
        <p>Lihat data keren secara langsung! Ada lokasi stasiun luar angkasa (ISS) dan data NASA.</p>
      </div>
      
      <div class="card" onclick="goto('https://xzam730.github.io/PORTAL-IEA/mind.html')">
        <svg class="card-icon" viewBox="0 0 24 24"><path d="M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM8.9 6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H8.9V6zM18 20H6V10h12v10z"/></svg>
        <span class="card-tag">TEORI & ILMU</span>
        <h2>Jurnal Ilmiah</h2>
        <p>Tempat para peneliti berbagi teori dan tulisan mereka. Seru buat dibaca!</p>
      </div>

      <div class="card" onclick="goto('https://xzam730.github.io/PORTAL-IEA/library.html')">
        <svg class="card-icon" viewBox="0 0 24 24"><path d="M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-1 9H9V9h10v2zm-4 4H9v-2h6v2zm4-8H9V5h10v2z"/></svg>
        <span class="card-tag">ARSIP</span>
        <h2>Perpustakaan</h2>
        <p>Gudang dokumen rahasia, buku-buku digital, dan musik bertema astronomi.</p>
      </div>

      <div class="card" onclick="goto('https://xzam730.github.io/IEA-Web-premium/')">
        <svg class="card-icon" viewBox="0 0 24 24"><path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"/></svg>
        <span class="card-tag">MENU UTAMA</span>
        <h2>Website Utama</h2>
        <p>Masuk ke halaman utama pengelolaan pusat dengan tampilan visual terbaik.</p>
      </div>

      <div class="card" onclick="goto('https://ai-iea-international-education-astronomy-tvmchu4pnij7avslkygup.streamlit.app/')">
        <svg class="card-icon" viewBox="0 0 24 24"><path d="M21 2H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h7l-2 3v1h8v-1l-2-3h7c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 12H3V4h18v10zM12 5.5L9.5 9h5L12 12.5 14.5 9h-5z"/></svg>
        <span class="card-tag">TANYA JAWAB</span>
        <h2>Asisten AI</h2>
        <p>Bingung soal astronomi? Tanya aja sama AI Asisten kami di sini.</p>
      </div>

      <div class="card" onclick="goto('https://xzam730.github.io/PORTAL-IEA/calculate.html')">
        <svg class="card-icon" viewBox="0 0 24 24"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zm-7-2h5v-2h-5v2zm0-4h5v-2h-5v2zm0-4h5V7h-5v2zM7 7v2h5V7H7zm0 4h5v-2H7v2zm0 4h5v-2H7v2z"/></svg>
        <span class="card-tag">ALAT HITUNG</span>
        <h2>Kalkulator Ilmiah</h2>
        <p>Alat bantu hitung fisika dan konversi data buat kamu yang hobi ngulik angka.</p>
      </div>

      <div class="card" onclick="openModal('rulesModal')">
        <svg class="card-icon" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"/></svg>
        <span class="card-tag">DISKUSI</span>
        <h2>Server Discord</h2>
        <p>Markas ngumpul online. Ayo diskusi bareng dan cari teman baru sesama peminat astronomi.</p>
      </div>

    </div>

    <div class="sys-footer">
        IEA SYSTEM // KONEKSI AMAN TERKENDALI
    </div>
  </div>

  <div id="rulesModal" class="modal">
    <div class="modal-box">
      <h3 style="color:var(--text-pri); font-family:'Orbitron'; font-size:1.2rem; letter-spacing:1px; margin-bottom:10px;">ATURAN DASAR</h3>
      <div style="text-align:left; font-size:0.9rem; line-height:1.6; color:var(--text-sec);">
        <p><b style="color:var(--accent)">1. SOPAN SANTUN</b><br>Jaga sikap dan omongan ya. Kita di sini teman semua.</p>
        <p style="margin-top:10px;"><b style="color:var(--accent)">2. BAHAS SAINS</b><br>Usahakan obrolan tetap nyambung sama sains dan data yang jelas.</p>
        <p style="margin-top:10px;"><b style="color:var(--accent)">3. BEBAS HOAX</b><br>Dilarang sebar berita bohong, politik, atau spam yang ganggu.</p>
      </div>
      <button class="btn-action" onclick="joinDiscord()">PAHAM & GABUNG DISCORD</button>
      <div class="btn-close" onclick="closeModal('rulesModal')">BATAL</div>
    </div>
  </div>

  <div id="settingsModal" class="modal">
      <div class="modal-box">
          <h3 style="color:var(--text-pri); font-family:'Orbitron'; margin-bottom:20px;">PENGATURAN</h3>
          
          <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:15px; color:var(--text-pri);">
              <span>Mode Terang</span>
              <label class="switch" style="position:relative; display:inline-block; width:50px; height:24px;">
                  <input type="checkbox" onchange="toggleTheme()" style="opacity:0; width:0; height:0;">
                  <span style="position:absolute; cursor:pointer; top:0; left:0; right:0; bottom:0; background-color:#333; transition:.4s; border-radius:34px;"></span>
                  <span style="position:absolute; content:''; height:16px; width:16px; left:4px; bottom:4px; background-color:white; transition:.4s; border-radius:50%;" id="slider-dot"></span>
              </label>
          </div>
          
          <div class="btn-close" onclick="closeModal('settingsModal')">TUTUP</div>
      </div>
  </div>
      
  <script>
    // --- LOGIKA HALAMAN SAMBUTAN ---
    let isChecked = false;
    
    function toggleCheck() {
        const check = document.getElementById('proto-check');
        const btn = document.getElementById('btn-init');
        isChecked = !isChecked;
        
        if(isChecked) {
            check.classList.add('checked');
            btn.classList.add('active');
            btn.innerText = "LANJUT MASUK";
            vibrate();
        } else {
            check.classList.remove('checked');
            btn.classList.remove('active');
            btn.innerText = "TUNGGU PERSETUJUAN";
        }
    }

    function initializeSystem() {
        if(!isChecked) return;
        
        document.getElementById('protocol-screen').style.opacity = '0';
        setTimeout(() => { document.getElementById('protocol-screen').style.display = 'none'; }, 1000);
        
        const loader = document.getElementById('loader-overlay');
        loader.style.display = 'flex';
        vibrate();
        
        setTimeout(() => {
            loader.style.opacity = '0';
            setTimeout(() => { loader.style.display = 'none'; }, 1000);
            
            document.getElementById('brand-corner').style.opacity = '1';
            const wrap = document.getElementById('main-wrap');
            wrap.style.opacity = '1';
            wrap.style.transform = 'scale(1)';
        }, 2500);
    }

    // --- LOGIKA SISTEM ---
    function joinDiscord(){ closeModal('rulesModal'); goto("https://discord.gg/38chzHbCnN"); }
    function openModal(id){ document.getElementById(id).style.display = 'flex'; setTimeout(()=> {document.getElementById(id).style.opacity='1'}, 10); }
    function closeModal(id){ document.getElementById(id).style.opacity='0'; setTimeout(()=> {document.getElementById(id).style.display = 'none'}, 500); }
    function openSettings() { openModal('settingsModal'); }
    function vibrate() { if(navigator.vibrate) navigator.vibrate([20]); }

    // --- RELOAD / REFRESH ---
    function reloadPage() {
        const loader = document.getElementById('loader-overlay');
        loader.style.display = 'flex';
        setTimeout(() => loader.style.opacity = '1', 10);
        document.getElementById('loaderMsg').innerText = "MEMUAT ULANG...";
        setTimeout(() => location.reload(), 1500);
    }

    // --- TEMA GELAP/TERANG ---
    function toggleTheme() {
        const html = document.documentElement;
        const slider = document.getElementById('slider-dot');
        if (html.getAttribute('data-theme') === 'dark') {
            html.setAttribute('data-theme', 'light');
            slider.style.transform = "translateX(26px)";
        } else {
            html.setAttribute('data-theme', 'dark');
            slider.style.transform = "translateX(0px)";
        }
    }

    // --- INISIALISASI ---
    window.onload = () => {
        document.querySelectorAll('.card, button').forEach(b => b.addEventListener('click', vibrate));
    };

    // --- TRANSISI PINDAH HALAMAN ---
    function goto(url){
        const loader = document.getElementById('loader-overlay');
        loader.style.display = 'flex';
        setTimeout(() => loader.style.opacity = '1', 10);
        document.getElementById('loaderMsg').innerText = "MENGHUBUNGKAN...";
        setTimeout(() => { window.location.href = url; }, 2000);
    }

    // --- PENCARIAN (SEARCH) ---
    function filterCards() {
        let input = document.getElementById('portalSearch').value.toUpperCase();
        let grid = document.querySelector('.grid');
        let cards = grid.getElementsByClassName('card');

        for (let i = 0; i < cards.length; i++) {
            let title = cards[i].getElementsByTagName('h2')[0].innerText;
            let desc = cards[i].getElementsByTagName('p')[0].innerText;
            
            if (title.toUpperCase().indexOf(input) > -1 || desc.toUpperCase().indexOf(input) > -1) {
                cards[i].style.display = "";
            } else {
                cards[i].style.display = "none";
            }
        }
    }
        // Fungsi untuk buka-tutup navigasi melayang
    function toggleFab() {
        const fab = document.getElementById('myFab');
        fab.classList.toggle('active');
        vibrate(); // Efek getar biar makin terasa HD
    }

    // Menutup navigasi jika klik di luar
    window.addEventListener('click', function(e) {
        const fab = document.getElementById('myFab');
        if (!fab.contains(e.target)) {
            fab.classList.remove('active');
        }
    });
        // Jalankan fungsi saat orang scroll
    window.onscroll = function() {
        handleScroll();
    };

    function handleScroll() {
        // Logika Progress Bar
        const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
        const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
        const scrolled = (winScroll / height) * 100;
        document.getElementById("myBar").style.width = scrolled + "%";

        // Logika Munculin Tombol Back to Top
        const btt = document.getElementById("backToTop");
        if (winScroll > 300) {
            btt.classList.add("show");
        } else {
            btt.classList.remove("show");
        }
    }

    // Fungsi geser ke atas dengan halus (Slow Motion)
    function scrollToTop() {
        window.scrollTo({
            top: 0,
            behavior: 'smooth'
        });
        vibrate();
    }

  </script>
    
  <div class="fab-container" id="myFab">
    <button class="fab-main" onclick="toggleFab()">
      <svg viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg>
    </button>
    
    <div class="fab-menu">
      <div class="fab-item" data-label="Reload Halaman" onclick="reloadPage()">
        <svg viewBox="0 0 24 24"><path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/></svg>
      </div>
      <div class="fab-item" data-label="Panel Admin" onclick="goto('https://xzam730.github.io/PORTAL-IEA/admin.html')">
        <svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"/></svg>
      </div>
      <div class="fab-item" data-label="Baca Aturan" onclick="openModal('rulesModal')">
        <svg viewBox="0 0 24 24"><path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"/></svg>
      </div>
      <div class="fab-item" data-label="Hubungi Admin" onclick="goto('https://wa.me/yournumber')">
        <svg viewBox="0 0 24 24"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 9h12v2H6V9zm8 5H6v-2h8v2zm4-6H6V6h12v2z"/></svg>
      </div>
      <div class="fab-item" data-label="Cari Cepat" onclick="document.getElementById('portalSearch').focus()">
        <svg viewBox="0 0 24 24"><path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg>
      </div>
    </div>
  </div>

</body>
</html>
