<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#050508">
    
    <title>IEA KALKULATOR</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Orbitron:wght@400;700;900&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <link rel="stylesheet" href="calculate.css">
</head>
<body>

    <div class="shattered-overlay"></div>
    <canvas id="matrix-canvas"></canvas>

    <div id="loader-overlay">
        <svg class="loader-svg" viewBox="0 0 200 200">
            <ellipse class="ring ring-1" cx="100" cy="100" rx="90" ry="30" />
            <ellipse class="ring ring-2" cx="100" cy="100" rx="90" ry="30" />
            <text x="50%" y="55%" text-anchor="middle" dominant-baseline="middle" fill="#fff" font-family="Orbitron" font-weight="900" font-size="40">IEA</text>
        </svg>
        <div class="loader-text">MEMUAT SISTEM CANGGIH...</div>
    </div>

    <div class="header-bar">
        <div>
            <div class="brand">IEA <span>KALKULATOR</span></div>
            <div id="sys-stats">CPU: <span id="cpu-val">0%</span> | MEM: <span id="mem-val">0MB</span></div>
        </div>
        
        <div style="display:flex; gap:15px;">
            <div class="menu-btn" id="btn-snd" onclick="toggleSound()" title="Suara Hidup/Mati">
                <i class="fas fa-volume-up"></i>
            </div>
            <div class="menu-btn" onclick="toggleMenu()" title="Buka Menu Lengkap">
                <i class="fas fa-bars"></i>
            </div>
        </div>
    </div>

    <div class="viewport">

        <div id="mod-calc" class="module active">
            <div class="mod-header">
                <span>KALKULATOR SAINS</span>
                <i class="fas fa-calculator"></i>
            </div>
            <div class="mod-content">
                <div id="calc-hist" style="text-align:right; font-size:0.8rem; color:#888; margin-bottom:5px;">Riwayat: Kosong</div>
                <input type="text" id="calc-disp" class="sys-input" value="0" readonly style="font-size:2.5rem; border:none; background:transparent;">
                
                <div class="btn-grid">
                    <button class="btn sci" onclick="ins('Math.sin(')">sin</button>
                    <button class="btn sci" onclick="ins('Math.cos(')">cos</button>
                    <button class="btn sci" onclick="ins('Math.tan(')">tan</button>
                    <button class="btn op" onclick="ins('/')">÷</button>
                    
                    <button class="btn" onclick="ins('7')">7</button>
                    <button class="btn" onclick="ins('8')">8</button>
                    <button class="btn" onclick="ins('9')">9</button>
                    <button class="btn op" onclick="ins('*')">×</button>
                    
                    <button class="btn" onclick="ins('4')">4</button>
                    <button class="btn" onclick="ins('5')">5</button>
                    <button class="btn" onclick="ins('6')">6</button>
                    <button class="btn op" onclick="ins('-')">-</button>
                    
                    <button class="btn" onclick="ins('1')">1</button>
                    <button class="btn" onclick="ins('2')">2</button>
                    <button class="btn" onclick="ins('3')">3</button>
                    <button class="btn op" onclick="ins('+')">+</button>
                    
                    <button class="btn sci" onclick="cls()" style="color:var(--neon-oren);">HAPUS</button>
                    <button class="btn" onclick="ins('0')">0</button>
                    <button class="btn" onclick="ins('.')">.</button>
                    <button class="btn eq" onclick="solve()">HITUNG</button>
                </div>
            </div>
        </div>

        <div id="mod-astro" class="module">
            <div class="mod-header">
                <span>ASTROFISIKA</span>
                <i class="fas fa-meteor"></i>
            </div>
            <div class="mod-content">
                <label>Pilih Jenis Perhitungan:</label>
                <select id="astro-mode" class="sys-input" onchange="uiAstro()">
                    <option value="time">Dilatasi Waktu (Relativitas)</option>
                    <option value="weight">Berat Badan di Planet Lain</option>
                    <option value="bh">Radius Lubang Hitam</option>
                    <option value="energy">Energi (E=mc²)</option>
                </select>

                <div id="astro-inputs"></div>

                <button class="btn eq" style="width:100%; margin-top:10px;" onclick="calcAstro()">ANALISIS DATA</button>
                
                <div class="result-display">
                    <div class="res-val" id="at-res">-</div>
                    <div id="at-label" style="font-size:0.7rem; color:#888;">MENUNGGU INPUT</div>
                </div>
            </div>
        </div>

        <div id="mod-conv" class="module">
            <div class="mod-header">
                <span>KONVERTER UNIT</span>
                <i class="fas fa-exchange-alt"></i>
            </div>
            <div class="mod-content">
                <select id="cv-type" class="sys-input" onchange="updUnits()">
                    <option value="len">Jarak / Panjang</option>
                    <option value="mass">Berat / Massa</option>
                    <option value="temp">Suhu (Temperatur)</option>
                    <option value="spd">Kecepatan</option>
                    <option value="data">Data Digital (MB/GB)</option>
                </select>

                <input type="number" id="cv-in" class="sys-input" placeholder="Masukkan Angka">
                
                <div style="display:grid; grid-template-columns: 1fr 20px 1fr; gap:10px; align-items:center; margin-bottom:15px;">
                    <select id="cv-from" class="sys-input" style="margin:0; text-align:center; padding:10px; font-size:0.8rem;"></select>
                    <i class="fas fa-arrow-right" style="color:#00f2ff; text-align:center;"></i>
                    <select id="cv-to" class="sys-input" style="margin:0; text-align:center; padding:10px; font-size:0.8rem;"></select>
                </div>

                <button class="btn eq" style="width:100%;" onclick="convert()">KONVERSI SEKARANG</button>
                
                <div class="result-display">
                    <div class="res-val" id="cv-res">0</div>
                    <div style="font-size:0.7rem; color:#888;">HASIL AKHIR</div>
                </div>
            </div>
        </div>

        <div id="mod-curr" class="module">
            <div class="mod-header">
                <span>KURS MATA UANG</span>
                <i class="fas fa-coins"></i>
            </div>
            <div class="mod-content">
                <label>Jumlah Rupiah (IDR):</label>
                <input type="number" id="cur-val" class="sys-input" placeholder="Contoh: 50000">
                
                <label>Tukar Ke:</label>
                <select id="cur-to" class="sys-input">
                    <option value="USD">USD - Dolar Amerika</option>
                    <option value="JPY">JPY - Yen Jepang</option>
                    <option value="EUR">EUR - Euro Eropa</option>
                    <option value="SAR">SAR - Riyal Arab</option>
                    <option value="MYR">MYR - Ringgit Malaysia</option>
                </select>

                <button class="btn eq" style="width:100%;" onclick="calcCurrency()">HITUNG KURS</button>
                
                <div class="result-display">
                    <div class="res-val" id="cur-res">0</div>
                    <div style="font-size:0.7rem; color:#888;">ESTIMASI NILAI</div>
                </div>
            </div>
        </div>

        <div id="mod-geo" class="module">
            <div class="mod-header">
                <span>GEOMETRI RUANG</span>
                <i class="fas fa-shapes"></i>
            </div>
            <div class="mod-content">
                <select id="geo-type" class="sys-input" onchange="uiGeo()">
                    <option value="tri">Luas Segitiga</option>
                    <option value="cyl">Volume Silinder (Tabung)</option>
                    <option value="cone">Volume Kerucut</option>
                    <option value="sphere">Volume Bola</option>
                    <option value="cube">Volume Kubus</option>
                </select>
                
                <div id="geo-inp"></div>
                
                <button class="btn eq" style="width:100%; margin-top:10px;" onclick="calcGeo()">HITUNG RUMUS</button>
                <div class="result-display">
                    <div class="res-val" id="geo-res">0</div>
                </div>
            </div>
        </div>

        <div id="mod-chem" class="module">
             <div class="mod-header">
                 <span>KIMIA MOLEKUL</span>
                 <i class="fas fa-flask"></i>
             </div>
             <div class="mod-content">
                 <select id="chem-mode" class="sys-input">
                    <option value="mass">Hitung Massa Molar</option>
                    <option value="search">Cari Nama Unsur (Simbol)</option>
                 </select>
                 
                 <input type="text" id="chem-in" class="sys-input" placeholder="Contoh: H2O atau Fe">
                 
                 <button class="btn eq" style="width:100%; margin-top:10px;" onclick="calcChem()">ANALISIS UNSUR</button>
                 <div class="result-display">
                     <div class="res-val" id="chem-res">-</div>
                 </div>
             </div>
        </div>

        <div id="mod-note" class="module">
            <div class="mod-header">
                <span>CATATAN ENKRIPSI</span>
                <i class="fas fa-sticky-note"></i>
            </div>
            <div class="mod-content">
                <textarea id="note-input" class="sys-input" style="height: 150px; text-align:left;" placeholder="Tulis catatan penting di sini... (Akan tersimpan otomatis)"></textarea>
                <button class="btn eq" style="width:100%;" onclick="saveNote()">SIMPAN KE MEMORI</button>
                <div id="note-status" style="font-size: 0.8rem; color: #00f2ff; margin-top: 10px; text-align: center;"></div>
            </div>
        </div>

        <div id="mod-log" class="module">
            <div class="mod-header">
                <span>TERMINAL SISTEM</span>
                <i class="fas fa-terminal"></i>
            </div>
            <div class="mod-content" style="padding:0; background:#000;">
                <div id="term-output" style="flex:1; padding:15px; font-family:'JetBrains Mono'; font-size:0.75rem; color:#0f0; overflow-y:auto; height:200px;">
                    <span style="color:#aaa;">IEA O</span><br>
                    > Sistem Siap...<br>
                    > Ketik 'bantuan' untuk melihat perintah...
                </div>
                <div style="display:flex; background:#111; padding:10px; border-top:1px solid #333;">
                    <span style="color:#0f0; margin-right:10px;">></span>
                    <input type="text" id="term-input" style="flex:1; background:transparent; border:none; color:#fff; font-family:'JetBrains Mono';" placeholder="Ketik perintah..." onkeydown="checkCmd(event)">
                </div>
           </div>
       </div>

    </div> 
    <div class="bottom-dock">
        <div class="dock-item active-dock" onclick="nav('mod-calc')" title="Kalkulator"><i class="fas fa-calculator"></i></div>
        <div class="dock-item" onclick="nav('mod-astro')" title="Astro Fisika"><i class="fas fa-user-astronaut"></i></div>
        <div class="dock-item" onclick="nav('mod-conv')" title="Konverter"><i class="fas fa-exchange-alt"></i></div>
        <div class="dock-item" onclick="nav('mod-note')" title="Catatan"><i class="fas fa-pen-nib"></i></div>
        <div class="dock-item" onclick="nav('mod-log')" title="Terminal"><i class="fas fa-terminal"></i></div>
    </div>

    <div class="side-toolbar">
        <button class="tool-btn" onclick="toggleMatrix()" title="Mode Matrix"><i class="fas fa-code"></i></button>
        <button class="tool-btn" onclick="copyResult()" title="Salin Hasil"><i class="fas fa-copy"></i></button>
        <button class="tool-btn" onclick="startVoice()" title="Perintah Suara"><i class="fas fa-microphone"></i></button>
    </div>

    <div id="voice-hud">
        <div class="voice-wave">
            <span></span><span></span><span></span><span></span>
        </div>
        <div id="voice-text" style="color:#00f2ff; font-family:'Orbitron'; font-size:0.7rem; margin-top:10px;">MENDENGARKAN...</div>
    </div>

    <div class="mega-menu" id="mainMenu">
        <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:30px;">
            <h2 style="font-family:'Orbitron'; color:#fff;">PILIH MODUL SISTEM</h2>
            <i class="fas fa-times" style="font-size:1.5rem; color:red; cursor:pointer;" onclick="toggleMenu()"></i>
        </div>
        
        <div class="menu-grid">
            <div class="nav-card" onclick="nav('mod-calc')"><i class="fas fa-calculator"></i><span>KALKULATOR</span></div>
            <div class="nav-card" onclick="nav('mod-conv')"><i class="fas fa-exchange-alt"></i><span>KONVERTER</span></div>
            <div class="nav-card" onclick="nav('mod-astro')"><i class="fas fa-meteor"></i><span>ASTRO FISIKA</span></div>
            <div class="nav-card" onclick="nav('mod-geo')"><i class="fas fa-shapes"></i><span>GEOMETRI</span></div>
            <div class="nav-card" onclick="nav('mod-chem')"><i class="fas fa-flask"></i><span>KIMIA</span></div>
            <div class="nav-card" onclick="nav('mod-curr')"><i class="fas fa-coins"></i><span>MATA UANG</span></div>
            <div class="nav-card" onclick="nav('mod-note')"><i class="fas fa-sticky-note"></i><span>CATATAN</span></div>
            <div class="nav-card" onclick="nav('mod-log')"><i class="fas fa-terminal"></i><span>TERMINAL</span></div>
        </div>
    </div>

    <script src="calculate.js"></script>
</body>
</html>
